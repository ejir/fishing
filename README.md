# 节操排行榜 - 多人联机图元游戏

一个有趣的多人联机网页游戏，玩家可以用基础图元（方块、球体、圆柱、圆锥）来创建自己的角色形象。

## 游戏特色

### 1. 🎨 图元角色编辑器
- 使用基础几何图元（方块、球体、圆柱、圆锥）自由组合创建角色
- 自定义每个图元的颜色、大小、位置和旋转
- 实时预览角色效果

### 2. 🌐 多人联机
- 基于 Socket.IO 的实时多人联机
- 实时同步所有玩家的位置和状态
- 流畅的玩家移动和交互

### 3. 💬 聊天系统
- 实时聊天功能
- 与其他玩家交流互动
- 系统消息提示

### 4. 💔 节操排行榜系统
- **节操值机制**：当玩家形象与其他玩家重合时，节操值会快速上升
- **自然衰减**：一段时间没有重合时，节操值会缓慢下降
- **实时排行榜**：显示节操值最高的前10名玩家

### 5. 🏃 动态游戏机制
- **大小变化**：节操值越高，玩家角色会变得越大
- **速度影响**：节操值越高，移动速度会变慢
- **策略性玩法**：平衡节操值增长和移动能力

## 技术栈

- **前端**: Three.js (3D渲染), Socket.IO Client (实时通信)
- **后端**: Node.js, Express, Socket.IO
- **构建工具**: Vite

## 安装和运行

### 安装依赖
```bash
npm install
```

### 开发模式（同时启动服务器和客户端）
```bash
npm run dev
```

### 仅启动服务器
```bash
npm run server
```

### 仅启动客户端
```bash
npm run client
```

### 生产构建
```bash
npm run build
```

## 游戏控制

- **W/A/S/D** - 控制角色移动
- **鼠标移动** - 旋转视角
- **靠近其他玩家** - 增加节操值
- **Enter** - 在聊天框中发送消息

## 游戏规则

1. **创建角色**：使用图元编辑器创建独特的角色形象
2. **探索世界**：在3D世界中自由移动和探索
3. **增加节操值**：靠近其他玩家，当角色重合时节操值会快速增长
4. **管理状态**：
   - 节操值每秒增加 = 重合玩家数量 × 2
   - 没有重合时每秒减少 0.5
   - 角色大小 = 1 + (节操值 / 200)
   - 移动速度 = max(30%, 100% - 节操值/500)
5. **竞争排名**：争取登上节操排行榜前列！

## 端口配置

- **客户端**: http://localhost:5173
- **服务器**: http://localhost:3000

## 项目结构

```
├── index.html              # 主HTML文件
├── src/
│   ├── main.js            # 主游戏逻辑
│   ├── avatarEditor.js    # 角色编辑器
│   ├── player.js          # 玩家类
│   ├── chat.js            # 聊天系统
│   └── hud.js             # HUD界面
├── server/
│   └── index.js           # 服务器逻辑
├── package.json
└── vite.config.js
```

## 特性说明

### 重合检测
- 游戏服务器每100毫秒检测一次玩家之间的距离
- 当两个玩家的距离小于它们大小之和的80%时，判定为重合
- 支持同时与多个玩家重合，节操值增长倍率提升

### 节操值系统
- 最低值：0
- 最高值：1000
- 节操值影响角色大小和速度
- 高节操值的玩家会更显眼但移动缓慢

### 视觉反馈
- 节操值显示带颜色变化（绿 → 黄 → 橙 → 红）
- 角色大小实时变化
- 排行榜实时更新
- 重合玩家数量实时显示

## 许可证

MIT License
